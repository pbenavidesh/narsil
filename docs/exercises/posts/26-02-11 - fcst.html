<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="">
<title>Pronósticos con métodos benchmark – Time Series Forecasting</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/narsil_logo.png" rel="icon" type="image/png">
<script src="../../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-2a367172f4fe7d9182ebf8e09f85cb4e.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark-7fb59815a1c41eec7c034637f0c35ff0.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-2a367172f4fe7d9182ebf8e09f85cb4e.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-c9719c5bef10daebc433146eebc6a80e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark-8645e6608b67ac11dc5eb9ff0b471324.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../../site_libs/bootstrap/bootstrap-c9719c5bef10daebc433146eebc6a80e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BRNYXN29K7"></script><script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-BRNYXN29K7', { 'anonymize_ip': true});
</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "classic"
}
</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><link href="../../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../../site_libs/pagedtable-1.1/js/pagedtable.js"></script><link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="Pronósticos con métodos benchmark – Time Series Forecasting">
<meta property="og:description" content="">
<meta property="og:image" content="https://pbenavidesh.github.io/narsil/docs/exercises/posts/26-02-11---fcst_files/figure-html/unnamed-chunk-4-1.png">
<meta property="og:site_name" content="Time Series Forecasting">
<meta property="og:image:height" content="960">
<meta property="og:image:width" content="1344">
<meta name="twitter:title" content="Pronósticos con métodos benchmark – Time Series Forecasting">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://pbenavidesh.github.io/narsil/docs/exercises/posts/26-02-11---fcst_files/figure-html/unnamed-chunk-4-1.png">
<meta name="twitter:creator" content="@PabsBenavides">
<meta name="twitter:image-height" content="960">
<meta name="twitter:image-width" content="1344">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../images/iteso_logo_blanco.png" alt="" class="navbar-logo light-content"><img src="../../../images/iteso_logo_blanco.png" alt="" class="navbar-logo dark-content"></a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Time Series Forecasting</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/modules/index.html"> 
<span class="menu-text">Modules</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/exercises/index.html"> 
<span class="menu-text">Exercises</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/more/index.html"> 
<span class="menu-text">More</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://chatgpt.com/g/g-68e6907c12a48191a07fb0888500a7fa-elendil-ta" target="_blank"> <i class="bi bi-openai" role="img">
</i> 
<span class="menu-text">Elendil TA</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/pbenavidesh/narsil" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><div id="quarto-announcement" data-announcement-id="2b4c5f92d91c7d44181d7c33da3fea50" class="alert alert-primary hidden">
<i class="bi bi-megaphone quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Happy new year 2026!</strong> - AI code assistant <a href="https://chatgpt.com/g/g-68e6907c12a48191a07fb0888500a7fa-elendil-ta">Elendil TA</a> is now available! Click the icon in the navbar to start using it.</p>
</div>
<i class="bi bi-x-lg quarto-announcement-action"></i>
</div>
</header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#traintest" id="toc-traintest" class="nav-link active" data-scroll-target="#traintest"><span class="header-section-number">1</span> Train/test</a></li>
  <li>
<a href="#visualize" id="toc-visualize" class="nav-link" data-scroll-target="#visualize"><span class="header-section-number">2</span> Visualize</a>
  <ul class="collapse">
<li><a href="#descomposici%C3%B3n-stl" id="toc-descomposición-stl" class="nav-link" data-scroll-target="#descomposici%C3%B3n-stl"><span class="header-section-number">2.1</span> Descomposición STL</a></li>
  </ul>
</li>
  <li><a href="#especificaci%C3%B3n-de-modelos" id="toc-especificación-de-modelos" class="nav-link" data-scroll-target="#especificaci%C3%B3n-de-modelos"><span class="header-section-number">3</span> Especificación de modelos</a></li>
  <li>
<a href="#evaluaci%C3%B3n" id="toc-evaluación" class="nav-link" data-scroll-target="#evaluaci%C3%B3n"><span class="header-section-number">4</span> Evaluación</a>
  <ul class="collapse">
<li><a href="#pron%C3%B3stico-a-partir-de-descomposici%C3%B3n" id="toc-pronóstico-a-partir-de-descomposición" class="nav-link" data-scroll-target="#pron%C3%B3stico-a-partir-de-descomposici%C3%B3n"><span class="header-section-number">4.1</span> Pronóstico a partir de descomposición</a></li>
  </ul>
</li>
  <li>
<a href="#pron%C3%B3stico" id="toc-pronóstico" class="nav-link" data-scroll-target="#pron%C3%B3stico"><span class="header-section-number">5</span> Pronóstico</a>
  <ul class="collapse">
<li><a href="#m%C3%A9tricas-de-error-accuracy" id="toc-métricas-de-error-accuracy" class="nav-link" data-scroll-target="#m%C3%A9tricas-de-error-accuracy"><span class="header-section-number">5.1</span> Métricas de error (Accuracy)</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/pbenavidesh/narsil/edit/main/docs/exercises/posts/26-02-11 - fcst.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/pbenavidesh/narsil/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Pronósticos con métodos benchmark</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 13, 2026</p>
    </div>
  </div>
    
  </div>
  


</header><div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.robjhyndman.com/fpp3/">fpp3</a></span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Quarter"],"name":[1],"type":["qtr"],"align":["right"]},{"label":["Beer"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Tobacco"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Bricks"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Cement"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Electricity"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Gas"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"1956 Q1","2":"284","3":"5225","4":"189","5":"465","6":"3923","7":"5"},{"1":"1956 Q2","2":"213","3":"5178","4":"204","5":"532","6":"4436","7":"6"},{"1":"1956 Q3","2":"227","3":"5297","4":"208","5":"561","6":"4806","7":"7"},{"1":"1956 Q4","2":"308","3":"5681","4":"197","5":"570","6":"4418","7":"6"},{"1":"1957 Q1","2":"262","3":"5577","4":"187","5":"529","6":"4339","7":"5"},{"1":"1957 Q2","2":"228","3":"5651","4":"214","5":"604","6":"4811","7":"7"},{"1":"1957 Q3","2":"236","3":"5317","4":"227","5":"603","6":"5259","7":"7"},{"1":"1957 Q4","2":"320","3":"6152","4":"222","5":"582","6":"4735","7":"6"},{"1":"1958 Q1","2":"272","3":"5758","4":"199","5":"554","6":"4608","7":"5"},{"1":"1958 Q2","2":"233","3":"5641","4":"229","5":"620","6":"5196","7":"7"},{"1":"1958 Q3","2":"237","3":"5802","4":"249","5":"646","6":"5609","7":"8"},{"1":"1958 Q4","2":"313","3":"6265","4":"234","5":"637","6":"4977","7":"6"},{"1":"1959 Q1","2":"261","3":"5478","4":"208","5":"573","6":"4883","7":"5"},{"1":"1959 Q2","2":"227","3":"5892","4":"251","5":"673","6":"5744","7":"7"},{"1":"1959 Q3","2":"250","3":"5952","4":"267","5":"690","6":"6035","7":"8"},{"1":"1959 Q4","2":"314","3":"6597","4":"255","5":"681","6":"5514","7":"6"},{"1":"1960 Q1","2":"286","3":"5980","4":"242","5":"621","6":"5387","7":"6"},{"1":"1960 Q2","2":"227","3":"6154","4":"268","5":"698","6":"6211","7":"8"},{"1":"1960 Q3","2":"260","3":"5478","4":"290","5":"753","6":"6659","7":"8"},{"1":"1960 Q4","2":"311","3":"6716","4":"277","5":"728","6":"5983","7":"7"},{"1":"1961 Q1","2":"295","3":"6022","4":"241","5":"688","6":"5709","7":"6"},{"1":"1961 Q2","2":"233","3":"6070","4":"253","5":"737","6":"6458","7":"7"},{"1":"1961 Q3","2":"257","3":"6303","4":"265","5":"742","6":"6875","7":"8"},{"1":"1961 Q4","2":"339","3":"6693","4":"236","5":"692","6":"6162","7":"6"},{"1":"1962 Q1","2":"279","3":"6072","4":"229","5":"637","6":"6098","7":"6"},{"1":"1962 Q2","2":"250","3":"6112","4":"265","5":"757","6":"7075","7":"8"},{"1":"1962 Q3","2":"270","3":"6146","4":"275","5":"783","6":"7595","7":"8"},{"1":"1962 Q4","2":"346","3":"6787","4":"258","5":"757","6":"6891","7":"7"},{"1":"1963 Q1","2":"294","3":"6051","4":"231","5":"674","6":"6707","7":"6"},{"1":"1963 Q2","2":"255","3":"6259","4":"263","5":"774","6":"7874","7":"8"},{"1":"1963 Q3","2":"278","3":"6348","4":"308","5":"835","6":"8555","7":"9"},{"1":"1963 Q4","2":"363","3":"6883","4":"313","5":"838","6":"7503","7":"7"},{"1":"1964 Q1","2":"313","3":"5890","4":"293","5":"797","6":"7469","7":"6"},{"1":"1964 Q2","2":"273","3":"6365","4":"328","5":"904","6":"8829","7":"8"},{"1":"1964 Q3","2":"300","3":"7373","4":"349","5":"949","6":"9513","7":"9"},{"1":"1964 Q4","2":"370","3":"6768","4":"340","5":"975","6":"8415","7":"7"},{"1":"1965 Q1","2":"331","3":"6201","4":"309","5":"902","6":"8170","7":"6"},{"1":"1965 Q2","2":"288","3":"6332","4":"349","5":"974","6":"9503","7":"8"},{"1":"1965 Q3","2":"306","3":"7213","4":"366","5":"969","6":"10306","7":"9"},{"1":"1965 Q4","2":"386","3":"6600","4":"340","5":"967","6":"9077","7":"7"},{"1":"1966 Q1","2":"335","3":"5522","4":"302","5":"849","6":"8650","7":"6"},{"1":"1966 Q2","2":"288","3":"6184","4":"350","5":"961","6":"10180","7":"8"},{"1":"1966 Q3","2":"308","3":"7202","4":"362","5":"966","6":"11234","7":"10"},{"1":"1966 Q4","2":"402","3":"6599","4":"337","5":"922","6":"9836","7":"7"},{"1":"1967 Q1","2":"353","3":"5801","4":"306","5":"836","6":"9490","7":"6"},{"1":"1967 Q2","2":"316","3":"6771","4":"358","5":"998","6":"10991","7":"9"},{"1":"1967 Q3","2":"325","3":"6837","4":"359","5":"1025","6":"12170","7":"10"},{"1":"1967 Q4","2":"405","3":"6685","4":"357","5":"971","6":"10470","7":"7"},{"1":"1968 Q1","2":"393","3":"6255","4":"341","5":"892","6":"10087","7":"6"},{"1":"1968 Q2","2":"319","3":"6977","4":"380","5":"973","6":"11858","7":"9"},{"1":"1968 Q3","2":"327","3":"7417","4":"404","5":"1047","6":"13198","7":"11"},{"1":"1968 Q4","2":"442","3":"7075","4":"409","5":"1017","6":"11413","7":"8"},{"1":"1969 Q1","2":"383","3":"6641","4":"383","5":"948","6":"11136","7":"7"},{"1":"1969 Q2","2":"332","3":"7154","4":"417","5":"1032","6":"13040","7":"10"},{"1":"1969 Q3","2":"361","3":"7929","4":"454","5":"1190","6":"14248","7":"13"},{"1":"1969 Q4","2":"446","3":"7362","4":"428","5":"1136","6":"12759","7":"11"},{"1":"1970 Q1","2":"387","3":"6807","4":"386","5":"1049","6":"12328","7":"12"},{"1":"1970 Q2","2":"357","3":"7612","4":"428","5":"1134","6":"14493","7":"18"},{"1":"1970 Q3","2":"374","3":"7862","4":"434","5":"1229","6":"15664","7":"23"},{"1":"1970 Q4","2":"466","3":"7126","4":"417","5":"1188","6":"13781","7":"20"},{"1":"1971 Q1","2":"410","3":"7255","4":"385","5":"1058","6":"13299","7":"19"},{"1":"1971 Q2","2":"370","3":"8076","4":"433","5":"1209","6":"15230","7":"23"},{"1":"1971 Q3","2":"379","3":"8405","4":"453","5":"1199","6":"16667","7":"28"},{"1":"1971 Q4","2":"487","3":"7974","4":"436","5":"1253","6":"14484","7":"24"},{"1":"1972 Q1","2":"419","3":"6500","4":"399","5":"1070","6":"13838","7":"24"},{"1":"1972 Q2","2":"378","3":"7119","4":"461","5":"1282","6":"15919","7":"34"},{"1":"1972 Q3","2":"393","3":"7367","4":"476","5":"1303","6":"17149","7":"40"},{"1":"1972 Q4","2":"506","3":"7549","4":"477","5":"1281","6":"15564","7":"35"},{"1":"1973 Q1","2":"458","3":"7168","4":"452","5":"1148","6":"15024","7":"34"},{"1":"1973 Q2","2":"387","3":"7635","4":"461","5":"1305","6":"17064","7":"41"},{"1":"1973 Q3","2":"427","3":"8446","4":"534","5":"1342","6":"18512","7":"48"},{"1":"1973 Q4","2":"565","3":"7593","4":"516","5":"1452","6":"16467","7":"39"},{"1":"1974 Q1","2":"465","3":"6823","4":"478","5":"1184","6":"16249","7":"38"},{"1":"1974 Q2","2":"445","3":"7856","4":"526","5":"1352","6":"18515","7":"48"},{"1":"1974 Q3","2":"450","3":"8574","4":"518","5":"1316","6":"20377","7":"52"},{"1":"1974 Q4","2":"556","3":"8163","4":"417","5":"1353","6":"17681","7":"43"},{"1":"1975 Q1","2":"500","3":"6971","4":"340","5":"1121","6":"16692","7":"39"},{"1":"1975 Q2","2":"452","3":"8021","4":"437","5":"1297","6":"19184","7":"49"},{"1":"1975 Q3","2":"435","3":"8133","4":"459","5":"1318","6":"20078","7":"55"},{"1":"1975 Q4","2":"554","3":"8349","4":"449","5":"1281","6":"18260","7":"47"},{"1":"1976 Q1","2":"510","3":"6687","4":"424","5":"1109","6":"18023","7":"44"},{"1":"1976 Q2","2":"433","3":"7991","4":"501","5":"1299","6":"20234","7":"58"},{"1":"1976 Q3","2":"453","3":"6900","4":"540","5":"1341","6":"22272","7":"65"},{"1":"1976 Q4","2":"548","3":"7119","4":"533","5":"1290","6":"19684","7":"54"},{"1":"1977 Q1","2":"486","3":"7156","4":"457","5":"1101","6":"19031","7":"49"},{"1":"1977 Q2","2":"453","3":"8671","4":"513","5":"1284","6":"21545","7":"64"},{"1":"1977 Q3","2":"457","3":"8459","4":"522","5":"1321","6":"23270","7":"74"},{"1":"1977 Q4","2":"566","3":"7367","4":"478","5":"1317","6":"20107","7":"58"},{"1":"1978 Q1","2":"515","3":"7219","4":"421","5":"1122","6":"20084","7":"56"},{"1":"1978 Q2","2":"464","3":"7344","4":"487","5":"1261","6":"22634","7":"71"},{"1":"1978 Q3","2":"431","3":"7314","4":"470","5":"1312","6":"24494","7":"78"},{"1":"1978 Q4","2":"588","3":"7379","4":"482","5":"1298","6":"21396","7":"65"},{"1":"1979 Q1","2":"503","3":"7084","4":"458","5":"1205","6":"21323","7":"59"},{"1":"1979 Q2","2":"443","3":"7882","4":"526","5":"1302","6":"23644","7":"74"},{"1":"1979 Q3","2":"448","3":"7816","4":"573","5":"1377","6":"25994","7":"88"},{"1":"1979 Q4","2":"555","3":"6786","4":"563","5":"1359","6":"22802","7":"71"},{"1":"1980 Q1","2":"513","3":"6794","4":"513","5":"1232","6":"22604","7":"68"},{"1":"1980 Q2","2":"427","3":"8168","4":"551","5":"1386","6":"24510","7":"91"},{"1":"1980 Q3","2":"473","3":"8097","4":"589","5":"1440","6":"26690","7":"103"},{"1":"1980 Q4","2":"526","3":"7820","4":"564","5":"1439","6":"24132","7":"83"},{"1":"1981 Q1","2":"548","3":"6437","4":"519","5":"1282","6":"23639","7":"88"},{"1":"1981 Q2","2":"440","3":"7995","4":"581","5":"1573","6":"26320","7":"110"},{"1":"1981 Q3","2":"469","3":"8238","4":"581","5":"1533","6":"28345","7":"120"},{"1":"1981 Q4","2":"575","3":"8026","4":"578","5":"1641","6":"24890","7":"101"},{"1":"1982 Q1","2":"493","3":"6697","4":"501","5":"1337","6":"24675","7":"93"},{"1":"1982 Q2","2":"433","3":"7749","4":"560","5":"1575","6":"27122","7":"116"},{"1":"1982 Q3","2":"480","3":"8043","4":"512","5":"1475","6":"28590","7":"127"},{"1":"1982 Q4","2":"576","3":"7469","4":"412","5":"1357","6":"25371","7":"98"},{"1":"1983 Q1","2":"475","3":"6559","4":"303","5":"1086","6":"24687","7":"92"},{"1":"1983 Q2","2":"405","3":"7852","4":"409","5":"1158","6":"27285","7":"118"},{"1":"1983 Q3","2":"435","3":"7449","4":"420","5":"1279","6":"29290","7":"124"},{"1":"1983 Q4","2":"535","3":"6975","4":"413","5":"1313","6":"26684","7":"104"},{"1":"1984 Q1","2":"453","3":"6631","4":"400","5":"1166","6":"26641","7":"97"},{"1":"1984 Q2","2":"430","3":"6928","4":"469","5":"1373","6":"29042","7":"116"},{"1":"1984 Q3","2":"417","3":"6542","4":"482","5":"1456","6":"31856","7":"130"},{"1":"1984 Q4","2":"552","3":"6819","4":"484","5":"1495","6":"28343","7":"111"},{"1":"1985 Q1","2":"464","3":"6033","4":"447","5":"1251","6":"28982","7":"103"},{"1":"1985 Q2","2":"417","3":"7678","4":"507","5":"1456","6":"30838","7":"120"},{"1":"1985 Q3","2":"423","3":"7341","4":"533","5":"1631","6":"33165","7":"132"},{"1":"1985 Q4","2":"554","3":"6829","4":"505","5":"1555","6":"29648","7":"107"},{"1":"1986 Q1","2":"459","3":"5733","4":"442","5":"1375","6":"29506","7":"98"},{"1":"1986 Q2","2":"428","3":"7465","4":"503","5":"1546","6":"32002","7":"127"},{"1":"1986 Q3","2":"429","3":"7780","4":"506","5":"1568","6":"34375","7":"137"},{"1":"1986 Q4","2":"534","3":"7234","4":"443","5":"1561","6":"31046","7":"112"},{"1":"1987 Q1","2":"481","3":"5765","4":"414","5":"1332","6":"31015","7":"106"},{"1":"1987 Q2","2":"416","3":"7476","4":"485","5":"1458","6":"33685","7":"130"},{"1":"1987 Q3","2":"440","3":"6742","4":"495","5":"1501","6":"35850","7":"158"},{"1":"1987 Q4","2":"538","3":"7217","4":"458","5":"1615","6":"33211","7":"123"},{"1":"1988 Q1","2":"474","3":"6034","4":"428","5":"1418","6":"33142","7":"116"},{"1":"1988 Q2","2":"440","3":"7389","4":"519","5":"1625","6":"34664","7":"137"},{"1":"1988 Q3","2":"447","3":"7077","4":"555","5":"1770","6":"37154","7":"157"},{"1":"1988 Q4","2":"598","3":"6837","4":"538","5":"1791","6":"35303","7":"125"},{"1":"1989 Q1","2":"467","3":"6051","4":"510","5":"1621","6":"36905","7":"117"},{"1":"1989 Q2","2":"439","3":"7193","4":"571","5":"1719","6":"37333","7":"149"},{"1":"1989 Q3","2":"446","3":"6639","4":"556","5":"1972","6":"40413","7":"175"},{"1":"1989 Q4","2":"567","3":"7060","4":"509","5":"1894","6":"36579","7":"139"},{"1":"1990 Q1","2":"485","3":"6562","4":"458","5":"1565","6":"37016","7":"125"},{"1":"1990 Q2","2":"441","3":"7063","4":"510","5":"1645","6":"39103","7":"152"},{"1":"1990 Q3","2":"429","3":"7374","4":"494","5":"1658","6":"41067","7":"161"},{"1":"1990 Q4","2":"599","3":"6563","4":"460","5":"1668","6":"37653","7":"123"},{"1":"1991 Q1","2":"464","3":"6202","4":"372","5":"1343","6":"37554","7":"111"},{"1":"1991 Q2","2":"424","3":"6694","4":"436","5":"1441","6":"38752","7":"141"},{"1":"1991 Q3","2":"436","3":"6748","4":"422","5":"1444","6":"41424","7":"160"},{"1":"1991 Q4","2":"574","3":"6160","4":"423","5":"1497","6":"38101","7":"125"},{"1":"1992 Q1","2":"443","3":"5777","4":"383","5":"1289","6":"38332","7":"117"},{"1":"1992 Q2","2":"410","3":"5853","4":"404","5":"1501","6":"39774","7":"151"},{"1":"1992 Q3","2":"420","3":"6416","4":"446","5":"1539","6":"42246","7":"175"},{"1":"1992 Q4","2":"532","3":"5825","4":"420","5":"1568","6":"38498","7":"129"},{"1":"1993 Q1","2":"433","3":"5724","4":"394","5":"1450","6":"39460","7":"116"},{"1":"1993 Q2","2":"421","3":"6036","4":"462","5":"1668","6":"41356","7":"149"},{"1":"1993 Q3","2":"410","3":"6570","4":"475","5":"1648","6":"42949","7":"163"},{"1":"1993 Q4","2":"512","3":"5675","4":"443","5":"1863","6":"40974","7":"138"},{"1":"1994 Q1","2":"449","3":"5311","4":"421","5":"1468","6":"40162","7":"127"},{"1":"1994 Q2","2":"381","3":"5717","4":"475","5":"1755","6":"41199","7":"159"},{"1":"1994 Q3","2":"423","3":"7000","4":"497","5":"1962","6":"44095","7":"184"},{"1":"1994 Q4","2":"531","3":"6085","4":"476","5":"1833","6":"41745","7":"147"},{"1":"1995 Q1","2":"426","3":"4714","4":"430","5":"1626","6":"41768","7":"131"},{"1":"1995 Q2","2":"408","3":"3939","4":"457","5":"1703","6":"43686","7":"167"},{"1":"1995 Q3","2":"416","3":"6137","4":"417","5":"1733","6":"46022","7":"181"},{"1":"1995 Q4","2":"520","3":"4739","4":"370","5":"1545","6":"42800","7":"145"},{"1":"1996 Q1","2":"409","3":"4275","4":"310","5":"1526","6":"43661","7":"133"},{"1":"1996 Q2","2":"398","3":"5239","4":"358","5":"1593","6":"44707","7":"162"},{"1":"1996 Q3","2":"398","3":"6293","4":"379","5":"1706","6":"46326","7":"184"},{"1":"1996 Q4","2":"507","3":"5575","4":"369","5":"1699","6":"43346","7":"146"},{"1":"1997 Q1","2":"432","3":"4802","4":"330","5":"1511","6":"43938","7":"135"},{"1":"1997 Q2","2":"398","3":"5523","4":"390","5":"1785","6":"45828","7":"171"},{"1":"1997 Q3","2":"406","3":"5708","4":"416","5":"1826","6":"48448","7":"183"},{"1":"1997 Q4","2":"526","3":"4821","4":"383","5":"1830","6":"46096","7":"151"},{"1":"1998 Q1","2":"428","3":"4919","4":"339","5":"1719","6":"46198","7":"141"},{"1":"1998 Q2","2":"397","3":"5809","4":"394","5":"1861","6":"47237","7":"174"},{"1":"1998 Q3","2":"403","3":"5904","4":"412","5":"1956","6":"49041","7":"191"},{"1":"1998 Q4","2":"517","3":"4555","4":"420","5":"2067","6":"46192","7":"157"},{"1":"1999 Q1","2":"435","3":"5198","4":"376","5":"1737","6":"48089","7":"145"},{"1":"1999 Q2","2":"383","3":"5388","4":"401","5":"1944","6":"48227","7":"182"},{"1":"1999 Q3","2":"424","3":"5142","4":"430","5":"2005","6":"49784","7":"198"},{"1":"1999 Q4","2":"521","3":"5517","4":"417","5":"2027","6":"47588","7":"165"},{"1":"2000 Q1","2":"421","3":"5169","4":"416","5":"1835","6":"49320","7":"164"},{"1":"2000 Q2","2":"402","3":"4860","4":"447","5":"2070","6":"50670","7":"199"},{"1":"2000 Q3","2":"414","3":"5185","4":"421","5":"1898","6":"52623","7":"213"},{"1":"2000 Q4","2":"500","3":"4763","4":"379","5":"1652","6":"49350","7":"173"},{"1":"2001 Q1","2":"451","3":"4217","4":"304","5":"1554","6":"51658","7":"177"},{"1":"2001 Q2","2":"380","3":"4959","4":"337","5":"1717","6":"51103","7":"205"},{"1":"2001 Q3","2":"416","3":"5196","4":"385","5":"1679","6":"52226","7":"218"},{"1":"2001 Q4","2":"492","3":"4522","4":"381","5":"1836","6":"50778","7":"185"},{"1":"2002 Q1","2":"428","3":"3843","4":"345","5":"1729","6":"50639","7":"166"},{"1":"2002 Q2","2":"408","3":"4806","4":"405","5":"1992","6":"51486","7":"204"},{"1":"2002 Q3","2":"406","3":"5280","4":"417","5":"2030","6":"53299","7":"228"},{"1":"2002 Q4","2":"506","3":"4709","4":"420","5":"1978","6":"51646","7":"186"},{"1":"2003 Q1","2":"435","3":"4362","4":"387","5":"1831","6":"51415","7":"172"},{"1":"2003 Q2","2":"380","3":"5210","4":"415","5":"1892","6":"51379","7":"204"},{"1":"2003 Q3","2":"421","3":"5258","4":"440","5":"2227","6":"54808","7":"232"},{"1":"2003 Q4","2":"490","3":"4526","4":"413","5":"2090","6":"52453","7":"188"},{"1":"2004 Q1","2":"435","3":"3974","4":"409","5":"1963","6":"54561","7":"173"},{"1":"2004 Q2","2":"390","3":"5027","4":"423","5":"2180","6":"54644","7":"215"},{"1":"2004 Q3","2":"412","3":"NA","4":"428","5":"2307","6":"55915","7":"227"},{"1":"2004 Q4","2":"454","3":"NA","4":"397","5":"2157","6":"52850","7":"190"},{"1":"2005 Q1","2":"416","3":"NA","4":"355","5":"1980","6":"55035","7":"170"},{"1":"2005 Q2","2":"403","3":"NA","4":"435","5":"2481","6":"55117","7":"206"},{"1":"2005 Q3","2":"408","3":"NA","4":"NA","5":"2340","6":"56043","7":"221"},{"1":"2005 Q4","2":"482","3":"NA","4":"NA","5":"2265","6":"54992","7":"180"},{"1":"2006 Q1","2":"438","3":"NA","4":"NA","5":"2027","6":"57112","7":"171"},{"1":"2006 Q2","2":"386","3":"NA","4":"NA","5":"2278","6":"57157","7":"224"},{"1":"2006 Q3","2":"405","3":"NA","4":"NA","5":"2427","6":"58400","7":"233"},{"1":"2006 Q4","2":"491","3":"NA","4":"NA","5":"2451","6":"56249","7":"192"},{"1":"2007 Q1","2":"427","3":"NA","4":"NA","5":"2140","6":"56244","7":"187"},{"1":"2007 Q2","2":"383","3":"NA","4":"NA","5":"2362","6":"55036","7":"234"},{"1":"2007 Q3","2":"394","3":"NA","4":"NA","5":"2536","6":"59806","7":"245"},{"1":"2007 Q4","2":"473","3":"NA","4":"NA","5":"2562","6":"56411","7":"205"},{"1":"2008 Q1","2":"420","3":"NA","4":"NA","5":"2183","6":"59118","7":"194"},{"1":"2008 Q2","2":"390","3":"NA","4":"NA","5":"2558","6":"56660","7":"229"},{"1":"2008 Q3","2":"410","3":"NA","4":"NA","5":"2612","6":"64067","7":"249"},{"1":"2008 Q4","2":"488","3":"NA","4":"NA","5":"2373","6":"59045","7":"203"},{"1":"2009 Q1","2":"415","3":"NA","4":"NA","5":"1963","6":"58368","7":"196"},{"1":"2009 Q2","2":"398","3":"NA","4":"NA","5":"2160","6":"57471","7":"238"},{"1":"2009 Q3","2":"419","3":"NA","4":"NA","5":"2325","6":"58394","7":"252"},{"1":"2009 Q4","2":"488","3":"NA","4":"NA","5":"2273","6":"57336","7":"210"},{"1":"2010 Q1","2":"414","3":"NA","4":"NA","5":"1904","6":"58309","7":"205"},{"1":"2010 Q2","2":"374","3":"NA","4":"NA","5":"2401","6":"58041","7":"236"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<section id="traintest" class="level2" data-number="1"><h2 data-number="1" class="anchored" data-anchor-id="traintest">
<span class="header-section-number">1</span> Train/test</h2>
<p>Vamos a hacer pronósticos a 3 años, por lo que necesitamos dejar los últimos 3 años como el conjunto de test.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_train</span> <span class="op">&lt;-</span> <span class="va">aus_production</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">filter_index</span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="st">"2007 Q2"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gas_train</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Quarter"],"name":[1],"type":["qtr"],"align":["right"]},{"label":["Beer"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Tobacco"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Bricks"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Cement"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Electricity"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Gas"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"1956 Q1","2":"284","3":"5225","4":"189","5":"465","6":"3923","7":"5"},{"1":"1956 Q2","2":"213","3":"5178","4":"204","5":"532","6":"4436","7":"6"},{"1":"1956 Q3","2":"227","3":"5297","4":"208","5":"561","6":"4806","7":"7"},{"1":"1956 Q4","2":"308","3":"5681","4":"197","5":"570","6":"4418","7":"6"},{"1":"1957 Q1","2":"262","3":"5577","4":"187","5":"529","6":"4339","7":"5"},{"1":"1957 Q2","2":"228","3":"5651","4":"214","5":"604","6":"4811","7":"7"},{"1":"1957 Q3","2":"236","3":"5317","4":"227","5":"603","6":"5259","7":"7"},{"1":"1957 Q4","2":"320","3":"6152","4":"222","5":"582","6":"4735","7":"6"},{"1":"1958 Q1","2":"272","3":"5758","4":"199","5":"554","6":"4608","7":"5"},{"1":"1958 Q2","2":"233","3":"5641","4":"229","5":"620","6":"5196","7":"7"},{"1":"1958 Q3","2":"237","3":"5802","4":"249","5":"646","6":"5609","7":"8"},{"1":"1958 Q4","2":"313","3":"6265","4":"234","5":"637","6":"4977","7":"6"},{"1":"1959 Q1","2":"261","3":"5478","4":"208","5":"573","6":"4883","7":"5"},{"1":"1959 Q2","2":"227","3":"5892","4":"251","5":"673","6":"5744","7":"7"},{"1":"1959 Q3","2":"250","3":"5952","4":"267","5":"690","6":"6035","7":"8"},{"1":"1959 Q4","2":"314","3":"6597","4":"255","5":"681","6":"5514","7":"6"},{"1":"1960 Q1","2":"286","3":"5980","4":"242","5":"621","6":"5387","7":"6"},{"1":"1960 Q2","2":"227","3":"6154","4":"268","5":"698","6":"6211","7":"8"},{"1":"1960 Q3","2":"260","3":"5478","4":"290","5":"753","6":"6659","7":"8"},{"1":"1960 Q4","2":"311","3":"6716","4":"277","5":"728","6":"5983","7":"7"},{"1":"1961 Q1","2":"295","3":"6022","4":"241","5":"688","6":"5709","7":"6"},{"1":"1961 Q2","2":"233","3":"6070","4":"253","5":"737","6":"6458","7":"7"},{"1":"1961 Q3","2":"257","3":"6303","4":"265","5":"742","6":"6875","7":"8"},{"1":"1961 Q4","2":"339","3":"6693","4":"236","5":"692","6":"6162","7":"6"},{"1":"1962 Q1","2":"279","3":"6072","4":"229","5":"637","6":"6098","7":"6"},{"1":"1962 Q2","2":"250","3":"6112","4":"265","5":"757","6":"7075","7":"8"},{"1":"1962 Q3","2":"270","3":"6146","4":"275","5":"783","6":"7595","7":"8"},{"1":"1962 Q4","2":"346","3":"6787","4":"258","5":"757","6":"6891","7":"7"},{"1":"1963 Q1","2":"294","3":"6051","4":"231","5":"674","6":"6707","7":"6"},{"1":"1963 Q2","2":"255","3":"6259","4":"263","5":"774","6":"7874","7":"8"},{"1":"1963 Q3","2":"278","3":"6348","4":"308","5":"835","6":"8555","7":"9"},{"1":"1963 Q4","2":"363","3":"6883","4":"313","5":"838","6":"7503","7":"7"},{"1":"1964 Q1","2":"313","3":"5890","4":"293","5":"797","6":"7469","7":"6"},{"1":"1964 Q2","2":"273","3":"6365","4":"328","5":"904","6":"8829","7":"8"},{"1":"1964 Q3","2":"300","3":"7373","4":"349","5":"949","6":"9513","7":"9"},{"1":"1964 Q4","2":"370","3":"6768","4":"340","5":"975","6":"8415","7":"7"},{"1":"1965 Q1","2":"331","3":"6201","4":"309","5":"902","6":"8170","7":"6"},{"1":"1965 Q2","2":"288","3":"6332","4":"349","5":"974","6":"9503","7":"8"},{"1":"1965 Q3","2":"306","3":"7213","4":"366","5":"969","6":"10306","7":"9"},{"1":"1965 Q4","2":"386","3":"6600","4":"340","5":"967","6":"9077","7":"7"},{"1":"1966 Q1","2":"335","3":"5522","4":"302","5":"849","6":"8650","7":"6"},{"1":"1966 Q2","2":"288","3":"6184","4":"350","5":"961","6":"10180","7":"8"},{"1":"1966 Q3","2":"308","3":"7202","4":"362","5":"966","6":"11234","7":"10"},{"1":"1966 Q4","2":"402","3":"6599","4":"337","5":"922","6":"9836","7":"7"},{"1":"1967 Q1","2":"353","3":"5801","4":"306","5":"836","6":"9490","7":"6"},{"1":"1967 Q2","2":"316","3":"6771","4":"358","5":"998","6":"10991","7":"9"},{"1":"1967 Q3","2":"325","3":"6837","4":"359","5":"1025","6":"12170","7":"10"},{"1":"1967 Q4","2":"405","3":"6685","4":"357","5":"971","6":"10470","7":"7"},{"1":"1968 Q1","2":"393","3":"6255","4":"341","5":"892","6":"10087","7":"6"},{"1":"1968 Q2","2":"319","3":"6977","4":"380","5":"973","6":"11858","7":"9"},{"1":"1968 Q3","2":"327","3":"7417","4":"404","5":"1047","6":"13198","7":"11"},{"1":"1968 Q4","2":"442","3":"7075","4":"409","5":"1017","6":"11413","7":"8"},{"1":"1969 Q1","2":"383","3":"6641","4":"383","5":"948","6":"11136","7":"7"},{"1":"1969 Q2","2":"332","3":"7154","4":"417","5":"1032","6":"13040","7":"10"},{"1":"1969 Q3","2":"361","3":"7929","4":"454","5":"1190","6":"14248","7":"13"},{"1":"1969 Q4","2":"446","3":"7362","4":"428","5":"1136","6":"12759","7":"11"},{"1":"1970 Q1","2":"387","3":"6807","4":"386","5":"1049","6":"12328","7":"12"},{"1":"1970 Q2","2":"357","3":"7612","4":"428","5":"1134","6":"14493","7":"18"},{"1":"1970 Q3","2":"374","3":"7862","4":"434","5":"1229","6":"15664","7":"23"},{"1":"1970 Q4","2":"466","3":"7126","4":"417","5":"1188","6":"13781","7":"20"},{"1":"1971 Q1","2":"410","3":"7255","4":"385","5":"1058","6":"13299","7":"19"},{"1":"1971 Q2","2":"370","3":"8076","4":"433","5":"1209","6":"15230","7":"23"},{"1":"1971 Q3","2":"379","3":"8405","4":"453","5":"1199","6":"16667","7":"28"},{"1":"1971 Q4","2":"487","3":"7974","4":"436","5":"1253","6":"14484","7":"24"},{"1":"1972 Q1","2":"419","3":"6500","4":"399","5":"1070","6":"13838","7":"24"},{"1":"1972 Q2","2":"378","3":"7119","4":"461","5":"1282","6":"15919","7":"34"},{"1":"1972 Q3","2":"393","3":"7367","4":"476","5":"1303","6":"17149","7":"40"},{"1":"1972 Q4","2":"506","3":"7549","4":"477","5":"1281","6":"15564","7":"35"},{"1":"1973 Q1","2":"458","3":"7168","4":"452","5":"1148","6":"15024","7":"34"},{"1":"1973 Q2","2":"387","3":"7635","4":"461","5":"1305","6":"17064","7":"41"},{"1":"1973 Q3","2":"427","3":"8446","4":"534","5":"1342","6":"18512","7":"48"},{"1":"1973 Q4","2":"565","3":"7593","4":"516","5":"1452","6":"16467","7":"39"},{"1":"1974 Q1","2":"465","3":"6823","4":"478","5":"1184","6":"16249","7":"38"},{"1":"1974 Q2","2":"445","3":"7856","4":"526","5":"1352","6":"18515","7":"48"},{"1":"1974 Q3","2":"450","3":"8574","4":"518","5":"1316","6":"20377","7":"52"},{"1":"1974 Q4","2":"556","3":"8163","4":"417","5":"1353","6":"17681","7":"43"},{"1":"1975 Q1","2":"500","3":"6971","4":"340","5":"1121","6":"16692","7":"39"},{"1":"1975 Q2","2":"452","3":"8021","4":"437","5":"1297","6":"19184","7":"49"},{"1":"1975 Q3","2":"435","3":"8133","4":"459","5":"1318","6":"20078","7":"55"},{"1":"1975 Q4","2":"554","3":"8349","4":"449","5":"1281","6":"18260","7":"47"},{"1":"1976 Q1","2":"510","3":"6687","4":"424","5":"1109","6":"18023","7":"44"},{"1":"1976 Q2","2":"433","3":"7991","4":"501","5":"1299","6":"20234","7":"58"},{"1":"1976 Q3","2":"453","3":"6900","4":"540","5":"1341","6":"22272","7":"65"},{"1":"1976 Q4","2":"548","3":"7119","4":"533","5":"1290","6":"19684","7":"54"},{"1":"1977 Q1","2":"486","3":"7156","4":"457","5":"1101","6":"19031","7":"49"},{"1":"1977 Q2","2":"453","3":"8671","4":"513","5":"1284","6":"21545","7":"64"},{"1":"1977 Q3","2":"457","3":"8459","4":"522","5":"1321","6":"23270","7":"74"},{"1":"1977 Q4","2":"566","3":"7367","4":"478","5":"1317","6":"20107","7":"58"},{"1":"1978 Q1","2":"515","3":"7219","4":"421","5":"1122","6":"20084","7":"56"},{"1":"1978 Q2","2":"464","3":"7344","4":"487","5":"1261","6":"22634","7":"71"},{"1":"1978 Q3","2":"431","3":"7314","4":"470","5":"1312","6":"24494","7":"78"},{"1":"1978 Q4","2":"588","3":"7379","4":"482","5":"1298","6":"21396","7":"65"},{"1":"1979 Q1","2":"503","3":"7084","4":"458","5":"1205","6":"21323","7":"59"},{"1":"1979 Q2","2":"443","3":"7882","4":"526","5":"1302","6":"23644","7":"74"},{"1":"1979 Q3","2":"448","3":"7816","4":"573","5":"1377","6":"25994","7":"88"},{"1":"1979 Q4","2":"555","3":"6786","4":"563","5":"1359","6":"22802","7":"71"},{"1":"1980 Q1","2":"513","3":"6794","4":"513","5":"1232","6":"22604","7":"68"},{"1":"1980 Q2","2":"427","3":"8168","4":"551","5":"1386","6":"24510","7":"91"},{"1":"1980 Q3","2":"473","3":"8097","4":"589","5":"1440","6":"26690","7":"103"},{"1":"1980 Q4","2":"526","3":"7820","4":"564","5":"1439","6":"24132","7":"83"},{"1":"1981 Q1","2":"548","3":"6437","4":"519","5":"1282","6":"23639","7":"88"},{"1":"1981 Q2","2":"440","3":"7995","4":"581","5":"1573","6":"26320","7":"110"},{"1":"1981 Q3","2":"469","3":"8238","4":"581","5":"1533","6":"28345","7":"120"},{"1":"1981 Q4","2":"575","3":"8026","4":"578","5":"1641","6":"24890","7":"101"},{"1":"1982 Q1","2":"493","3":"6697","4":"501","5":"1337","6":"24675","7":"93"},{"1":"1982 Q2","2":"433","3":"7749","4":"560","5":"1575","6":"27122","7":"116"},{"1":"1982 Q3","2":"480","3":"8043","4":"512","5":"1475","6":"28590","7":"127"},{"1":"1982 Q4","2":"576","3":"7469","4":"412","5":"1357","6":"25371","7":"98"},{"1":"1983 Q1","2":"475","3":"6559","4":"303","5":"1086","6":"24687","7":"92"},{"1":"1983 Q2","2":"405","3":"7852","4":"409","5":"1158","6":"27285","7":"118"},{"1":"1983 Q3","2":"435","3":"7449","4":"420","5":"1279","6":"29290","7":"124"},{"1":"1983 Q4","2":"535","3":"6975","4":"413","5":"1313","6":"26684","7":"104"},{"1":"1984 Q1","2":"453","3":"6631","4":"400","5":"1166","6":"26641","7":"97"},{"1":"1984 Q2","2":"430","3":"6928","4":"469","5":"1373","6":"29042","7":"116"},{"1":"1984 Q3","2":"417","3":"6542","4":"482","5":"1456","6":"31856","7":"130"},{"1":"1984 Q4","2":"552","3":"6819","4":"484","5":"1495","6":"28343","7":"111"},{"1":"1985 Q1","2":"464","3":"6033","4":"447","5":"1251","6":"28982","7":"103"},{"1":"1985 Q2","2":"417","3":"7678","4":"507","5":"1456","6":"30838","7":"120"},{"1":"1985 Q3","2":"423","3":"7341","4":"533","5":"1631","6":"33165","7":"132"},{"1":"1985 Q4","2":"554","3":"6829","4":"505","5":"1555","6":"29648","7":"107"},{"1":"1986 Q1","2":"459","3":"5733","4":"442","5":"1375","6":"29506","7":"98"},{"1":"1986 Q2","2":"428","3":"7465","4":"503","5":"1546","6":"32002","7":"127"},{"1":"1986 Q3","2":"429","3":"7780","4":"506","5":"1568","6":"34375","7":"137"},{"1":"1986 Q4","2":"534","3":"7234","4":"443","5":"1561","6":"31046","7":"112"},{"1":"1987 Q1","2":"481","3":"5765","4":"414","5":"1332","6":"31015","7":"106"},{"1":"1987 Q2","2":"416","3":"7476","4":"485","5":"1458","6":"33685","7":"130"},{"1":"1987 Q3","2":"440","3":"6742","4":"495","5":"1501","6":"35850","7":"158"},{"1":"1987 Q4","2":"538","3":"7217","4":"458","5":"1615","6":"33211","7":"123"},{"1":"1988 Q1","2":"474","3":"6034","4":"428","5":"1418","6":"33142","7":"116"},{"1":"1988 Q2","2":"440","3":"7389","4":"519","5":"1625","6":"34664","7":"137"},{"1":"1988 Q3","2":"447","3":"7077","4":"555","5":"1770","6":"37154","7":"157"},{"1":"1988 Q4","2":"598","3":"6837","4":"538","5":"1791","6":"35303","7":"125"},{"1":"1989 Q1","2":"467","3":"6051","4":"510","5":"1621","6":"36905","7":"117"},{"1":"1989 Q2","2":"439","3":"7193","4":"571","5":"1719","6":"37333","7":"149"},{"1":"1989 Q3","2":"446","3":"6639","4":"556","5":"1972","6":"40413","7":"175"},{"1":"1989 Q4","2":"567","3":"7060","4":"509","5":"1894","6":"36579","7":"139"},{"1":"1990 Q1","2":"485","3":"6562","4":"458","5":"1565","6":"37016","7":"125"},{"1":"1990 Q2","2":"441","3":"7063","4":"510","5":"1645","6":"39103","7":"152"},{"1":"1990 Q3","2":"429","3":"7374","4":"494","5":"1658","6":"41067","7":"161"},{"1":"1990 Q4","2":"599","3":"6563","4":"460","5":"1668","6":"37653","7":"123"},{"1":"1991 Q1","2":"464","3":"6202","4":"372","5":"1343","6":"37554","7":"111"},{"1":"1991 Q2","2":"424","3":"6694","4":"436","5":"1441","6":"38752","7":"141"},{"1":"1991 Q3","2":"436","3":"6748","4":"422","5":"1444","6":"41424","7":"160"},{"1":"1991 Q4","2":"574","3":"6160","4":"423","5":"1497","6":"38101","7":"125"},{"1":"1992 Q1","2":"443","3":"5777","4":"383","5":"1289","6":"38332","7":"117"},{"1":"1992 Q2","2":"410","3":"5853","4":"404","5":"1501","6":"39774","7":"151"},{"1":"1992 Q3","2":"420","3":"6416","4":"446","5":"1539","6":"42246","7":"175"},{"1":"1992 Q4","2":"532","3":"5825","4":"420","5":"1568","6":"38498","7":"129"},{"1":"1993 Q1","2":"433","3":"5724","4":"394","5":"1450","6":"39460","7":"116"},{"1":"1993 Q2","2":"421","3":"6036","4":"462","5":"1668","6":"41356","7":"149"},{"1":"1993 Q3","2":"410","3":"6570","4":"475","5":"1648","6":"42949","7":"163"},{"1":"1993 Q4","2":"512","3":"5675","4":"443","5":"1863","6":"40974","7":"138"},{"1":"1994 Q1","2":"449","3":"5311","4":"421","5":"1468","6":"40162","7":"127"},{"1":"1994 Q2","2":"381","3":"5717","4":"475","5":"1755","6":"41199","7":"159"},{"1":"1994 Q3","2":"423","3":"7000","4":"497","5":"1962","6":"44095","7":"184"},{"1":"1994 Q4","2":"531","3":"6085","4":"476","5":"1833","6":"41745","7":"147"},{"1":"1995 Q1","2":"426","3":"4714","4":"430","5":"1626","6":"41768","7":"131"},{"1":"1995 Q2","2":"408","3":"3939","4":"457","5":"1703","6":"43686","7":"167"},{"1":"1995 Q3","2":"416","3":"6137","4":"417","5":"1733","6":"46022","7":"181"},{"1":"1995 Q4","2":"520","3":"4739","4":"370","5":"1545","6":"42800","7":"145"},{"1":"1996 Q1","2":"409","3":"4275","4":"310","5":"1526","6":"43661","7":"133"},{"1":"1996 Q2","2":"398","3":"5239","4":"358","5":"1593","6":"44707","7":"162"},{"1":"1996 Q3","2":"398","3":"6293","4":"379","5":"1706","6":"46326","7":"184"},{"1":"1996 Q4","2":"507","3":"5575","4":"369","5":"1699","6":"43346","7":"146"},{"1":"1997 Q1","2":"432","3":"4802","4":"330","5":"1511","6":"43938","7":"135"},{"1":"1997 Q2","2":"398","3":"5523","4":"390","5":"1785","6":"45828","7":"171"},{"1":"1997 Q3","2":"406","3":"5708","4":"416","5":"1826","6":"48448","7":"183"},{"1":"1997 Q4","2":"526","3":"4821","4":"383","5":"1830","6":"46096","7":"151"},{"1":"1998 Q1","2":"428","3":"4919","4":"339","5":"1719","6":"46198","7":"141"},{"1":"1998 Q2","2":"397","3":"5809","4":"394","5":"1861","6":"47237","7":"174"},{"1":"1998 Q3","2":"403","3":"5904","4":"412","5":"1956","6":"49041","7":"191"},{"1":"1998 Q4","2":"517","3":"4555","4":"420","5":"2067","6":"46192","7":"157"},{"1":"1999 Q1","2":"435","3":"5198","4":"376","5":"1737","6":"48089","7":"145"},{"1":"1999 Q2","2":"383","3":"5388","4":"401","5":"1944","6":"48227","7":"182"},{"1":"1999 Q3","2":"424","3":"5142","4":"430","5":"2005","6":"49784","7":"198"},{"1":"1999 Q4","2":"521","3":"5517","4":"417","5":"2027","6":"47588","7":"165"},{"1":"2000 Q1","2":"421","3":"5169","4":"416","5":"1835","6":"49320","7":"164"},{"1":"2000 Q2","2":"402","3":"4860","4":"447","5":"2070","6":"50670","7":"199"},{"1":"2000 Q3","2":"414","3":"5185","4":"421","5":"1898","6":"52623","7":"213"},{"1":"2000 Q4","2":"500","3":"4763","4":"379","5":"1652","6":"49350","7":"173"},{"1":"2001 Q1","2":"451","3":"4217","4":"304","5":"1554","6":"51658","7":"177"},{"1":"2001 Q2","2":"380","3":"4959","4":"337","5":"1717","6":"51103","7":"205"},{"1":"2001 Q3","2":"416","3":"5196","4":"385","5":"1679","6":"52226","7":"218"},{"1":"2001 Q4","2":"492","3":"4522","4":"381","5":"1836","6":"50778","7":"185"},{"1":"2002 Q1","2":"428","3":"3843","4":"345","5":"1729","6":"50639","7":"166"},{"1":"2002 Q2","2":"408","3":"4806","4":"405","5":"1992","6":"51486","7":"204"},{"1":"2002 Q3","2":"406","3":"5280","4":"417","5":"2030","6":"53299","7":"228"},{"1":"2002 Q4","2":"506","3":"4709","4":"420","5":"1978","6":"51646","7":"186"},{"1":"2003 Q1","2":"435","3":"4362","4":"387","5":"1831","6":"51415","7":"172"},{"1":"2003 Q2","2":"380","3":"5210","4":"415","5":"1892","6":"51379","7":"204"},{"1":"2003 Q3","2":"421","3":"5258","4":"440","5":"2227","6":"54808","7":"232"},{"1":"2003 Q4","2":"490","3":"4526","4":"413","5":"2090","6":"52453","7":"188"},{"1":"2004 Q1","2":"435","3":"3974","4":"409","5":"1963","6":"54561","7":"173"},{"1":"2004 Q2","2":"390","3":"5027","4":"423","5":"2180","6":"54644","7":"215"},{"1":"2004 Q3","2":"412","3":"NA","4":"428","5":"2307","6":"55915","7":"227"},{"1":"2004 Q4","2":"454","3":"NA","4":"397","5":"2157","6":"52850","7":"190"},{"1":"2005 Q1","2":"416","3":"NA","4":"355","5":"1980","6":"55035","7":"170"},{"1":"2005 Q2","2":"403","3":"NA","4":"435","5":"2481","6":"55117","7":"206"},{"1":"2005 Q3","2":"408","3":"NA","4":"NA","5":"2340","6":"56043","7":"221"},{"1":"2005 Q4","2":"482","3":"NA","4":"NA","5":"2265","6":"54992","7":"180"},{"1":"2006 Q1","2":"438","3":"NA","4":"NA","5":"2027","6":"57112","7":"171"},{"1":"2006 Q2","2":"386","3":"NA","4":"NA","5":"2278","6":"57157","7":"224"},{"1":"2006 Q3","2":"405","3":"NA","4":"NA","5":"2427","6":"58400","7":"233"},{"1":"2006 Q4","2":"491","3":"NA","4":"NA","5":"2451","6":"56249","7":"192"},{"1":"2007 Q1","2":"427","3":"NA","4":"NA","5":"2140","6":"56244","7":"187"},{"1":"2007 Q2","2":"383","3":"NA","4":"NA","5":"2362","6":"55036","7":"234"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="visualize" class="level2" data-number="2"><h2 data-number="2" class="anchored" data-anchor-id="visualize">
<span class="header-section-number">2</span> Visualize</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">Gas</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-4-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Intentamos estabilizar la varianza con logaritmos.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Gas</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Parece que todavía no es completamente estable (ahora al inicio la varianza es mayor).</p>
<p>Probemos con Box-Cox:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_lambda</span> <span class="op">&lt;-</span> <span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">features</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">guerrero</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gas_lambda</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1037006</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Parece que mejora un poco.</p>
<section id="descomposición-stl" class="level3" data-number="2.1"><h3 data-number="2.1" class="anchored" data-anchor-id="descomposición-stl">
<span class="header-section-number">2.1</span> Descomposición STL</h3>
<p>Vamos a separar la serie transformada usando STL.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">model</span><span class="op">(</span></span>
<span>    stl <span class="op">=</span> <span class="fu">STL</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span>, robust <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">components</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="especificación-de-modelos" class="level2" data-number="3"><h2 data-number="3" class="anchored" data-anchor-id="especificación-de-modelos">
<span class="header-section-number">3</span> Especificación de modelos</h2>
<p>Primero vamos a probar los 4 modelos benchmark por separado, y posteriormente vamos a crear un modelo a partir de la descomposición que hicimos arriba.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fit</span> <span class="op">&lt;-</span> <span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">model</span><span class="op">(</span></span>
<span>    media <span class="op">=</span> <span class="fu">MEAN</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    naive <span class="op">=</span> <span class="fu">NAIVE</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    snaive <span class="op">=</span> <span class="fu">SNAIVE</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    drift <span class="op">=</span> <span class="fu">RW</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span> <span class="op">~</span> <span class="fu">drift</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">gas_fit</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["media"],"name":[1],"type":["lst_mdl"],"align":["right"]},{"label":["naive"],"name":[2],"type":["lst_mdl"],"align":["right"]},{"label":["snaive"],"name":[3],"type":["lst_mdl"],"align":["right"]},{"label":["drift"],"name":[4],"type":["lst_mdl"],"align":["right"]}],"data":[{"1":"<lst_mdl>","2":"<lst_mdl>","3":"<lst_mdl>","4":"<lst_mdl>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="evaluación" class="level2" data-number="4"><h2 data-number="4" class="anchored" data-anchor-id="evaluación">
<span class="header-section-number">4</span> Evaluación</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_aug</span> <span class="op">&lt;-</span> <span class="va">gas_fit</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">augment</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gas_fit</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">media</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">gg_tsresiduals</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Residuos del modelo media"</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_aug</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Quarter</span>, y <span class="op">=</span> <span class="va">.innov</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">.model</span><span class="op">)</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Innovaciones de los modelos benchmark"</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-9-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<section id="pronóstico-a-partir-de-descomposición" class="level3" data-number="4.1"><h3 data-number="4.1" class="anchored" data-anchor-id="pronóstico-a-partir-de-descomposición">
<span class="header-section-number">4.1</span> Pronóstico a partir de descomposición</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fit_stl</span> <span class="op">&lt;-</span> <span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">model</span><span class="op">(</span></span>
<span>    stlf <span class="op">=</span> <span class="fu">decomposition_model</span><span class="op">(</span></span>
<span>      <span class="fu">STL</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span>, robust <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>      <span class="fu">SNAIVE</span><span class="op">(</span><span class="va">season_year</span><span class="op">)</span>,</span>
<span>      <span class="fu">RW</span><span class="op">(</span><span class="va">season_adjust</span> <span class="op">~</span> <span class="fu">drift</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">gas_fit_stl</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["stlf"],"name":[1],"type":["lst_mdl"],"align":["right"]}],"data":[{"1":"<lst_mdl>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fit_stl</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gg_tsresiduals</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-11-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fit_todos</span> <span class="op">&lt;-</span> <span class="va">gas_train</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">model</span><span class="op">(</span></span>
<span>    media <span class="op">=</span> <span class="fu">MEAN</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    naive <span class="op">=</span> <span class="fu">NAIVE</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    snaive <span class="op">=</span> <span class="fu">SNAIVE</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    drift <span class="op">=</span> <span class="fu">RW</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span> <span class="op">~</span> <span class="fu">drift</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    stlf <span class="op">=</span> <span class="fu">decomposition_model</span><span class="op">(</span></span>
<span>      <span class="fu">STL</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span>, robust <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>      <span class="fu">SNAIVE</span><span class="op">(</span><span class="va">season_year</span><span class="op">)</span>,</span>
<span>      <span class="fu">RW</span><span class="op">(</span><span class="va">season_adjust</span> <span class="op">~</span> <span class="fu">drift</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section></section><section id="pronóstico" class="level2" data-number="5"><h2 data-number="5" class="anchored" data-anchor-id="pronóstico">
<span class="header-section-number">5</span> Pronóstico</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fc_todos</span> <span class="op">&lt;-</span> <span class="va">gas_fit_todos</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">forecast</span><span class="op">(</span>h <span class="op">=</span> <span class="st">"3 years"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gas_fc_todos</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[".model"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Quarter"],"name":[2],"type":["qtr"],"align":["right"]},{"label":["Gas"],"name":[3],"type":["dist"],"align":["right"]},{"label":[".mean"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"media","2":"2007 Q3","3":"<dist>","4":"95.16636"},{"1":"media","2":"2007 Q4","3":"<dist>","4":"95.16636"},{"1":"media","2":"2008 Q1","3":"<dist>","4":"95.16636"},{"1":"media","2":"2008 Q2","3":"<dist>","4":"95.16636"},{"1":"media","2":"2008 Q3","3":"<dist>","4":"95.16636"},{"1":"media","2":"2008 Q4","3":"<dist>","4":"95.16636"},{"1":"media","2":"2009 Q1","3":"<dist>","4":"95.16636"},{"1":"media","2":"2009 Q2","3":"<dist>","4":"95.16636"},{"1":"media","2":"2009 Q3","3":"<dist>","4":"95.16636"},{"1":"media","2":"2009 Q4","3":"<dist>","4":"95.16636"},{"1":"media","2":"2010 Q1","3":"<dist>","4":"95.16636"},{"1":"media","2":"2010 Q2","3":"<dist>","4":"95.16636"},{"1":"naive","2":"2007 Q3","3":"<dist>","4":"236.60045"},{"1":"naive","2":"2007 Q4","3":"<dist>","4":"239.20090"},{"1":"naive","2":"2008 Q1","3":"<dist>","4":"241.80135"},{"1":"naive","2":"2008 Q2","3":"<dist>","4":"244.40180"},{"1":"naive","2":"2008 Q3","3":"<dist>","4":"247.00225"},{"1":"naive","2":"2008 Q4","3":"<dist>","4":"249.60270"},{"1":"naive","2":"2009 Q1","3":"<dist>","4":"252.20315"},{"1":"naive","2":"2009 Q2","3":"<dist>","4":"254.80361"},{"1":"naive","2":"2009 Q3","3":"<dist>","4":"257.40406"},{"1":"naive","2":"2009 Q4","3":"<dist>","4":"260.00451"},{"1":"naive","2":"2010 Q1","3":"<dist>","4":"262.60496"},{"1":"naive","2":"2010 Q2","3":"<dist>","4":"265.20541"},{"1":"snaive","2":"2007 Q3","3":"<dist>","4":"234.19335"},{"1":"snaive","2":"2007 Q4","3":"<dist>","4":"193.02364"},{"1":"snaive","2":"2008 Q1","3":"<dist>","4":"188.00245"},{"1":"snaive","2":"2008 Q2","3":"<dist>","4":"235.19741"},{"1":"snaive","2":"2008 Q3","3":"<dist>","4":"235.38671"},{"1":"snaive","2":"2008 Q4","3":"<dist>","4":"194.04728"},{"1":"snaive","2":"2009 Q1","3":"<dist>","4":"189.00491"},{"1":"snaive","2":"2009 Q2","3":"<dist>","4":"236.39482"},{"1":"snaive","2":"2009 Q3","3":"<dist>","4":"236.58006"},{"1":"snaive","2":"2009 Q4","3":"<dist>","4":"195.07092"},{"1":"snaive","2":"2010 Q1","3":"<dist>","4":"190.00736"},{"1":"snaive","2":"2010 Q2","3":"<dist>","4":"237.59224"},{"1":"drift","2":"2007 Q3","3":"<dist>","4":"240.27804"},{"1":"drift","2":"2007 Q4","3":"<dist>","4":"246.69757"},{"1":"drift","2":"2008 Q1","3":"<dist>","4":"253.26122"},{"1":"drift","2":"2008 Q2","3":"<dist>","4":"259.97165"},{"1":"drift","2":"2008 Q3","3":"<dist>","4":"266.83154"},{"1":"drift","2":"2008 Q4","3":"<dist>","4":"273.84364"},{"1":"drift","2":"2009 Q1","3":"<dist>","4":"281.01073"},{"1":"drift","2":"2009 Q2","3":"<dist>","4":"288.33562"},{"1":"drift","2":"2009 Q3","3":"<dist>","4":"295.82118"},{"1":"drift","2":"2009 Q4","3":"<dist>","4":"303.47031"},{"1":"drift","2":"2010 Q1","3":"<dist>","4":"311.28597"},{"1":"drift","2":"2010 Q2","3":"<dist>","4":"319.27113"},{"1":"stlf","2":"2007 Q3","3":"<dist>","4":"255.49012"},{"1":"stlf","2":"2007 Q4","3":"<dist>","4":"212.78913"},{"1":"stlf","2":"2008 Q1","3":"<dist>","4":"200.07661"},{"1":"stlf","2":"2008 Q2","3":"<dist>","4":"248.61470"},{"1":"stlf","2":"2008 Q3","3":"<dist>","4":"271.29738"},{"1":"stlf","2":"2008 Q4","3":"<dist>","4":"226.23049"},{"1":"stlf","2":"2009 Q1","3":"<dist>","4":"212.80674"},{"1":"stlf","2":"2009 Q2","3":"<dist>","4":"264.05975"},{"1":"stlf","2":"2009 Q3","3":"<dist>","4":"287.99420"},{"1":"stlf","2":"2009 Q4","3":"<dist>","4":"240.44380"},{"1":"stlf","2":"2010 Q1","3":"<dist>","4":"226.27310"},{"1":"stlf","2":"2010 Q2","3":"<dist>","4":"280.37730"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fc_todos</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">aus_production</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">.model</span><span class="op">)</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-13-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fc_todos</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">aus_production</span>, level <span class="op">=</span> <span class="cn">NULL</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-13-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<section id="métricas-de-error-accuracy" class="level3" data-number="5.1"><h3 data-number="5.1" class="anchored" data-anchor-id="métricas-de-error-accuracy">
<span class="header-section-number">5.1</span> Métricas de error (Accuracy)</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">gas_fc_todos</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">accuracy</span><span class="op">(</span><span class="va">aus_production</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">RMSE</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[".model"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["ME"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["RMSE"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["MAE"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["MPE"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["MAPE"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["MASE"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["RMSSE"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["ACF1"],"name":[10],"type":["dbl"],"align":["right"]}],"data":[{"1":"snaive","2":"Test","3":"8.124903","4":"10.56544","5":"9.423177","6":"3.718825","7":"4.282320","8":"1.702578","9":"1.390042","10":"-0.09675072"},{"1":"stlf","2":"Test","3":"-22.037776","4":"24.55449","5":"22.037776","6":"-9.805261","7":"9.805261","8":"3.981781","9":"3.230511","10":"0.39298950"},{"1":"naive","2":"Test","3":"-29.069596","4":"36.60640","5":"30.802479","6":"-14.078494","7":"14.783610","8":"5.565385","9":"4.816119","10":"0.01124063"},{"1":"drift","2":"Test","3":"-56.506550","4":"64.68976","5":"57.293544","6":"-26.508065","7":"26.829287","8":"10.351785","9":"8.510907","10":"0.35653098"},{"1":"media","2":"Test","3":"126.666977","4":"128.36664","5":"126.666977","6":"56.721099","7":"56.721099","8":"22.886162","9":"16.888553","10":"-0.05335363"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>El mejor modelo parece ser el SNAIVE. Vamos a utilizar este para hacer el pronóstico final.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">aus_production</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">model</span><span class="op">(</span></span>
<span>    snaive <span class="op">=</span> <span class="fu">SNAIVE</span><span class="op">(</span><span class="fu">box_cox</span><span class="op">(</span><span class="va">Gas</span>, <span class="va">gas_lambda</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">forecast</span><span class="op">(</span>h <span class="op">=</span> <span class="st">"3 years"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">aus_production</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="26-02-11---fcst_files/figure-html/unnamed-chunk-15-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="26-02-11---fcst_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>


<!-- -->

</section></section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/pbenavidesh\.github\.io\/narsil\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Pronósticos con métodos benchmark"</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fpp3)</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>aus_production</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="fu">## Train/test</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>Vamos a hacer pronósticos a 3 años, por lo que necesitamos dejar los últimos 3 años como el conjunto de test.</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>gas_train <span class="ot">&lt;-</span> aus_production <span class="sc">|&gt;</span> </span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_index</span>(. <span class="sc">~</span> <span class="st">"2007 Q2"</span>)</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>gas_train</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualize</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(Gas)</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>Intentamos estabilizar la varianza con logaritmos.</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">log</span>(Gas))</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>Parece que todavía no es completamente estable (ahora al inicio la varianza es mayor).</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>Probemos con Box-Cox:</span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>gas_lambda <span class="ot">&lt;-</span> gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">features</span>(Gas, guerrero) <span class="sc">|&gt;</span> </span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>gas_lambda</span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">box_cox</span>(Gas, gas_lambda))</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>Parece que mejora un poco.</span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a><span class="fu">### Descomposición STL</span></span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>Vamos a separar la serie transformada usando STL.</span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">stl =</span> <span class="fu">STL</span>(<span class="fu">box_cox</span>(Gas, gas_lambda), <span class="at">robust =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">components</span>() <span class="sc">|&gt;</span> </span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a><span class="fu">## Especificación de modelos</span></span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a>Primero vamos a probar los 4 modelos benchmark por separado, y posteriormente vamos a crear un modelo a partir de la descomposición que hicimos arriba.</span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a>gas_fit <span class="ot">&lt;-</span> gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">media =</span> <span class="fu">MEAN</span>(<span class="fu">box_cox</span>(Gas, gas_lambda)),</span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">naive =</span> <span class="fu">NAIVE</span>(<span class="fu">box_cox</span>(Gas, gas_lambda)),</span>
<span id="cb20-99"><a href="#cb20-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">snaive =</span> <span class="fu">SNAIVE</span>(<span class="fu">box_cox</span>(Gas, gas_lambda)),</span>
<span id="cb20-100"><a href="#cb20-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">drift =</span> <span class="fu">RW</span>(<span class="fu">box_cox</span>(Gas, gas_lambda) <span class="sc">~</span> <span class="fu">drift</span>())</span>
<span id="cb20-101"><a href="#cb20-101" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-102"><a href="#cb20-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-103"><a href="#cb20-103" aria-hidden="true" tabindex="-1"></a>gas_fit</span>
<span id="cb20-104"><a href="#cb20-104" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-105"><a href="#cb20-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-106"><a href="#cb20-106" aria-hidden="true" tabindex="-1"></a><span class="fu">## Evaluación</span></span>
<span id="cb20-107"><a href="#cb20-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-110"><a href="#cb20-110" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-111"><a href="#cb20-111" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb20-112"><a href="#cb20-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-113"><a href="#cb20-113" aria-hidden="true" tabindex="-1"></a>gas_aug <span class="ot">&lt;-</span> gas_fit <span class="sc">|&gt;</span> </span>
<span id="cb20-114"><a href="#cb20-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>()</span>
<span id="cb20-115"><a href="#cb20-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-116"><a href="#cb20-116" aria-hidden="true" tabindex="-1"></a>gas_fit <span class="sc">|&gt;</span> </span>
<span id="cb20-117"><a href="#cb20-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(media) <span class="sc">|&gt;</span></span>
<span id="cb20-118"><a href="#cb20-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsresiduals</span>() <span class="sc">+</span></span>
<span id="cb20-119"><a href="#cb20-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb20-120"><a href="#cb20-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Residuos del modelo media"</span></span>
<span id="cb20-121"><a href="#cb20-121" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-122"><a href="#cb20-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-123"><a href="#cb20-123" aria-hidden="true" tabindex="-1"></a>gas_aug <span class="sc">|&gt;</span> </span>
<span id="cb20-124"><a href="#cb20-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Quarter, <span class="at">y =</span> .innov)) <span class="sc">+</span> </span>
<span id="cb20-125"><a href="#cb20-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb20-126"><a href="#cb20-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(.model), <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span> </span>
<span id="cb20-127"><a href="#cb20-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb20-128"><a href="#cb20-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Innovaciones de los modelos benchmark"</span></span>
<span id="cb20-129"><a href="#cb20-129" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-130"><a href="#cb20-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-131"><a href="#cb20-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-132"><a href="#cb20-132" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pronóstico a partir de descomposición</span></span>
<span id="cb20-133"><a href="#cb20-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-136"><a href="#cb20-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-137"><a href="#cb20-137" aria-hidden="true" tabindex="-1"></a>gas_fit_stl <span class="ot">&lt;-</span> gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-138"><a href="#cb20-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb20-139"><a href="#cb20-139" aria-hidden="true" tabindex="-1"></a>    <span class="at">stlf =</span> <span class="fu">decomposition_model</span>(</span>
<span id="cb20-140"><a href="#cb20-140" aria-hidden="true" tabindex="-1"></a>      <span class="fu">STL</span>(<span class="fu">box_cox</span>(Gas, gas_lambda), <span class="at">robust =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-141"><a href="#cb20-141" aria-hidden="true" tabindex="-1"></a>      <span class="fu">SNAIVE</span>(season_year),</span>
<span id="cb20-142"><a href="#cb20-142" aria-hidden="true" tabindex="-1"></a>      <span class="fu">RW</span>(season_adjust <span class="sc">~</span> <span class="fu">drift</span>())</span>
<span id="cb20-143"><a href="#cb20-143" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-144"><a href="#cb20-144" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-145"><a href="#cb20-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-146"><a href="#cb20-146" aria-hidden="true" tabindex="-1"></a>gas_fit_stl</span>
<span id="cb20-147"><a href="#cb20-147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-148"><a href="#cb20-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-151"><a href="#cb20-151" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-152"><a href="#cb20-152" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb20-153"><a href="#cb20-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-154"><a href="#cb20-154" aria-hidden="true" tabindex="-1"></a>gas_fit_stl <span class="sc">|&gt;</span> </span>
<span id="cb20-155"><a href="#cb20-155" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsresiduals</span>()</span>
<span id="cb20-156"><a href="#cb20-156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-157"><a href="#cb20-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-160"><a href="#cb20-160" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-161"><a href="#cb20-161" aria-hidden="true" tabindex="-1"></a>gas_fit_todos <span class="ot">&lt;-</span> gas_train <span class="sc">|&gt;</span> </span>
<span id="cb20-162"><a href="#cb20-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb20-163"><a href="#cb20-163" aria-hidden="true" tabindex="-1"></a>    <span class="at">media =</span> <span class="fu">MEAN</span>(<span class="fu">box_cox</span>(Gas, gas_lambda)),</span>
<span id="cb20-164"><a href="#cb20-164" aria-hidden="true" tabindex="-1"></a>    <span class="at">naive =</span> <span class="fu">NAIVE</span>(<span class="fu">box_cox</span>(Gas, gas_lambda)),</span>
<span id="cb20-165"><a href="#cb20-165" aria-hidden="true" tabindex="-1"></a>    <span class="at">snaive =</span> <span class="fu">SNAIVE</span>(<span class="fu">box_cox</span>(Gas, gas_lambda)),</span>
<span id="cb20-166"><a href="#cb20-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">drift =</span> <span class="fu">RW</span>(<span class="fu">box_cox</span>(Gas, gas_lambda) <span class="sc">~</span> <span class="fu">drift</span>()),</span>
<span id="cb20-167"><a href="#cb20-167" aria-hidden="true" tabindex="-1"></a>    <span class="at">stlf =</span> <span class="fu">decomposition_model</span>(</span>
<span id="cb20-168"><a href="#cb20-168" aria-hidden="true" tabindex="-1"></a>      <span class="fu">STL</span>(<span class="fu">box_cox</span>(Gas, gas_lambda), <span class="at">robust =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-169"><a href="#cb20-169" aria-hidden="true" tabindex="-1"></a>      <span class="fu">SNAIVE</span>(season_year),</span>
<span id="cb20-170"><a href="#cb20-170" aria-hidden="true" tabindex="-1"></a>      <span class="fu">RW</span>(season_adjust <span class="sc">~</span> <span class="fu">drift</span>())</span>
<span id="cb20-171"><a href="#cb20-171" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-172"><a href="#cb20-172" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-173"><a href="#cb20-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-174"><a href="#cb20-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-175"><a href="#cb20-175" aria-hidden="true" tabindex="-1"></a><span class="fu">## Pronóstico</span></span>
<span id="cb20-176"><a href="#cb20-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-179"><a href="#cb20-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-180"><a href="#cb20-180" aria-hidden="true" tabindex="-1"></a>gas_fc_todos <span class="ot">&lt;-</span> gas_fit_todos <span class="sc">|&gt;</span> </span>
<span id="cb20-181"><a href="#cb20-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="st">"3 years"</span>)</span>
<span id="cb20-182"><a href="#cb20-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-183"><a href="#cb20-183" aria-hidden="true" tabindex="-1"></a>gas_fc_todos</span>
<span id="cb20-184"><a href="#cb20-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-185"><a href="#cb20-185" aria-hidden="true" tabindex="-1"></a>gas_fc_todos <span class="sc">|&gt;</span> </span>
<span id="cb20-186"><a href="#cb20-186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_production) <span class="sc">+</span></span>
<span id="cb20-187"><a href="#cb20-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(.model), <span class="at">scales =</span> <span class="st">"free_y"</span>)</span>
<span id="cb20-188"><a href="#cb20-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-189"><a href="#cb20-189" aria-hidden="true" tabindex="-1"></a>gas_fc_todos <span class="sc">|&gt;</span> </span>
<span id="cb20-190"><a href="#cb20-190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_production, <span class="at">level =</span> <span class="cn">NULL</span>, <span class="at">linewidth =</span> <span class="dv">1</span>)</span>
<span id="cb20-191"><a href="#cb20-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-192"><a href="#cb20-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-193"><a href="#cb20-193" aria-hidden="true" tabindex="-1"></a><span class="fu">### Métricas de error (Accuracy)</span></span>
<span id="cb20-194"><a href="#cb20-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-197"><a href="#cb20-197" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-198"><a href="#cb20-198" aria-hidden="true" tabindex="-1"></a>gas_fc_todos <span class="sc">|&gt;</span> </span>
<span id="cb20-199"><a href="#cb20-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">accuracy</span>(aus_production) <span class="sc">|&gt;</span> </span>
<span id="cb20-200"><a href="#cb20-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(RMSE)</span>
<span id="cb20-201"><a href="#cb20-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb20-202"><a href="#cb20-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-203"><a href="#cb20-203" aria-hidden="true" tabindex="-1"></a>El mejor modelo parece ser el SNAIVE. Vamos a utilizar este para hacer el pronóstico final.</span>
<span id="cb20-204"><a href="#cb20-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-207"><a href="#cb20-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-208"><a href="#cb20-208" aria-hidden="true" tabindex="-1"></a>aus_production <span class="sc">|&gt;</span> </span>
<span id="cb20-209"><a href="#cb20-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb20-210"><a href="#cb20-210" aria-hidden="true" tabindex="-1"></a>    <span class="at">snaive =</span> <span class="fu">SNAIVE</span>(<span class="fu">box_cox</span>(Gas, gas_lambda))</span>
<span id="cb20-211"><a href="#cb20-211" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb20-212"><a href="#cb20-212" aria-hidden="true" tabindex="-1"></a>    <span class="fu">forecast</span>(<span class="at">h =</span> <span class="st">"3 years"</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-213"><a href="#cb20-213" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>(aus_production)</span>
<span id="cb20-214"><a href="#cb20-214" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/pbenavidesh/narsil/edit/main/docs/exercises/posts/26-02-11 - fcst.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/pbenavidesh/narsil/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


<script src="../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>